(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{6285:function(e,t,s){Promise.resolve().then(s.bind(s,9398))},8961:function(e,t){"use strict";function setItem(e,t){let s=JSON.stringify(t);if(window.localStorage)switch(e){case"events":localStorage.setItem("JBWevents",s);break;case"food":localStorage.setItem("JBWfoodItems",s);break;case"drinks":localStorage.setItem("JBWdrinks",s);break;case"token":localStorage.setItem("JBWtoken",s);break;case"user":localStorage.setItem("JBWuser",s);break;case"siteData":localStorage.setItem("siteData",s)}}t.Z={getItem:function(e){if(window.localStorage){let t;switch(e){case"user":return JSON.parse(t=localStorage.getItem("JBWuser"));case"token":return JSON.parse(t=localStorage.getItem("JBWtoken"));case"events":if("undefined"!==(t=localStorage.getItem("JBWevents")))return JSON.parse(t);case"food":return"undefined"!==(t=localStorage.getItem("JBWfoodItems"))&&(t=JSON.parse(t)),t;case"drinks":return"undefined"!==(t=localStorage.getItem("JBWdrinks"))&&(t=JSON.parse(t)),t;case"siteData":return JSON.parse(t=localStorage.getItem("siteData"))}}},setItem,setItems:function(e){setItem("user",e.data.response.user),setItem("events",e.data.response.events),setItem("food",e.data.response.food),setItem("drinks",e.data.response.drinks),setItem("siteData",e.data.response.publishedData),setItem("token",e.data.response.token);let t=new Date;t.setTime(t.getTime()+36e5),document.cookie="JBWtoken=".concat(e.data.response.token,"; expires=").concat(t.toUTCString(),";")},removeItem:function(e){window.localStorage&&"token"===e&&localStorage.removeItem("JBWtoken")}}},7462:function(e,t,s){"use strict";s.r(t);var a=s(7437),n=s(4033),o=s(8961),r=s(2265);t.default=function(e){let t=(0,n.useRouter)();return(0,r.useEffect)(()=>{if("first"===e.location&&!1===e.token){t.push("/login");return}"first"===e.location&&!0===e.token?t.push("/dash"):o.Z.getItem("token")||"dash"!==e.location?"login"===e.location&&o.Z.getItem("token")&&t.push("/dash"):t.push("/login")}),(0,a.jsx)("div",{})}},9398:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Login}});var a=s(7437),n=s(2265),o=s(9222),r=s(8961),l=s(6691),i=s.n(l),c=s(6081),d=s(7462);function Login(){let e={username:"",password:""},[t,s]=(0,n.useState)(e),[l,u]=(0,n.useState)(!1),handleLogin=async()=>{!1!=(!(t.password.length<1)&&!(t.password.length<1)||(window.alert("Username and or Password field cannot be left blank"),!1))&&(u(!0),await o.Z.post("http://localhost:8080/user/login",{username:t.username,password:t.password}).then(t=>{!0===t.data.success&&(r.Z.setItems(t),s(e))}).catch(()=>{s(e),u(!1),window.alert("incorrect username/password")}))},m=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{src:c.default,alt:"Company Header",width:500}),(0,a.jsxs)("div",{className:"w-1/3 rounded-t-3xl",children:[(0,a.jsx)("div",{className:"bg-slate-600 text-slate-100 rounded-t-3xl",children:(0,a.jsx)("h1",{className:"text-4xl p-4 text-center",children:"Login"})}),(0,a.jsxs)("div",{className:" bg-slate-100 h-full flex flex-col p-10 shadow-md shadow-slate-200",children:[(0,a.jsx)("label",{htmlFor:"username",children:"Username"}),(0,a.jsx)("input",{id:"username",name:"username",onChange:e=>s({...t,username:e.target.value})}),(0,a.jsx)("label",{htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",onChange:e=>s({...t,password:e.target.value})}),(0,a.jsx)("button",{onClick:()=>handleLogin(),children:"submit"})]})]})]}),g=(0,a.jsx)("h1",{className:"text-white",children:" loading..."}),f=(0,a.jsxs)("div",{className:"text-slate-800 bg-slate-800 flex justify-center items-center  w-screen h-screen flex-col",children:[l?g:m,(0,a.jsx)(d.default,{location:"login",token:!1})]});return f}},6081:function(e,t,s){"use strict";s.r(t),t.default={src:"/_next/static/media/Name_Logo.7b7865d6.png",height:405,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAbklEQVR4nAFjAJz/AedGVW4H390eAdvY9v8ACfj+KiQBBNbL+f0jLh/6GRvLAd0lNhLNlaIt/gMEGAP+/fkC/f3l+QgIGgj29fwfx8HXAbepxQDeKzBwAf8AKP8BAPQAAAHQAf/+M/4CAuapKgmVL1YuFTqprf4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:3}},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[282,971,472,744],function(){return e(e.s=6285)}),_N_E=e.O()}]);